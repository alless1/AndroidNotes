### adb命令

> adb是连接本地pc和远程android设备的桥梁，所以一般需要在两台设备之间传输数据时使用。

文件传输

* 推送文件：adb push <本地文件路径> <远程文件路径>	（从本地推到远程）
* 拉取文件：adb pull <远程文件路径> <本地文件路径> 	（从远程拉到本地）

应用管理

* 安装应用：abd install 本地安装包路径
  * adb install -r 强制安装
* 卸载应用：adb uninstall 程序包名

无线连接

* 打开远程端口：adb tcpip 5555
* 连接远程端口：adb connect 192.168.xx.xx:5555

重启设备

* 重启设备：adb reboot

保存日志

* 保存控制台日志到本地：adb logcat > <本地文件路径>





### android shell命令

> 使用adb shell 指令进入android的terminal，androd命令+linux命令

androird命令

#### am指令(ActivityManager)

**< type > [options] < INTENT >  **

**type:**

1. start：开启Activity
2. startservice：开启服务
3. broadcast：发送广播

**options:(用得少)**

1. -S：关闭Activity所属的App进程后再启动Activity。
2. --user <User_id>:使用指定的用户来启动Activity，默认当前用户。

**INTENT**

1. -a < action >
2. -n <COMPONENT_NAME>

**使用：**

1. 打开设置页面：

* am start -a android.settings.SETTINGS
* am start -n com.android.settings/com.android.settings.Settings
* am start com.android.settings/com.android.settings.Settings
* am start com.android.settings/.Settings

2. 打开拨号界面，并传入号码：

* am start -a android.intent.action.CALL -d tel:10086

> -a是action意图，-n是用全名，理论上开启activity（start）和开启service（startservice）可以用-a或者-n，发广播（broadcast）就只能用-a发送action。

终止应用

* am force-stop 包名

#### pm指令（PackageManager）

显示所有的包

* pm -l (完整的应该是pm list packages)

显示所有包(|grep ubox过滤关键字ubox)

> Linux grep 命令用于查找文件里符合条件的字符串。

* pm -l |grep ubox（pm list packages |grep ubox）

显示指定包版本号(不知道为什么没有显示版本名的功能)

* pm list packages --show-versioncode

打印指定应用的信息（|grep version 过滤version信息）

* pm dump com.example.rebootdialog |grep version 

安装应用

* pm install 安装包路径

卸载应用

* pm uninstall 安装包路径

**使用**

1. 先查出包含关键字的包名

   pm -l |grep alipay

2. 再打印出指定包名的版本信息

   pm dump 具体包名 |grep version 

#### dumpsys指令（打印系统信息）

显示指定应用的内存占用情况

* dumpsys meminfo 包名或pid

显示指定应用的版本信息

* dumpsys package 指定包名 |grep version 
  * pm dump 指定包名 |grep version （和上面效果一样）

#### screencap指令

截图保存

* screencap -p /sdcard/01.png 

### mac shell命令

> mac的terminal



